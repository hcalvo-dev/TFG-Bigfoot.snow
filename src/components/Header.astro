---
const navItems = ['INICIO', 'EQUIPOS', 'CLASES', 'CONTACTO'];
const navLinks = ['/', 'equipos', 'clases', 'contacto'];
import MenuClient from './dropdown.tsx';
import { ShoppingCart, Search } from '@lucide/astro';
import AccountLinkWrapper from '../components/Auth/AccountLinkWrapper';
---

<style>
  body.menu-open {
    overflow: hidden;
  }
</style>

<header
  class="w-full px-4 py-2 flex justify-between items-center bg-gray-300 text-black z-50 fixed top-0">
  <!-- Logo + Nav -->
  <div class="flex items-center space-x-6">
    <!-- Logo -->
    <a href="/" class="flex items-center space-x-2">
      <img src="/img/logo_1.svg" alt="Logo" class="w-12 h-12" />
      <h1 class="text-4xl text-black font-bold font-blowbrush tracking-widest">
        BIGFOOT
      </h1>
    </a>

    <nav class="flex">
      <!-- Desktop Menu -->
      <ul class="hidden xl:flex space-x-4 ml-10 mr-5 pl-10">
        {
          navItems.map((item) => (
            <li>
              <a
                href={navLinks[navItems.indexOf(item)]}
                class="hover:text-blue-500 font-bold text-standard font-blowbrush tracking-widest">
                {item}
              </a>
            </li>
          ))
        }
      </ul>

      <!-- Overlay -->
      <div
        id="overlay"
        class="fixed inset-0 bg-black/60 transition-opacity duration-500 z-40 hidden opacity-0">
      </div>

      <!-- Side Menu -->
      <div
        id="side-menu"
        class="fixed top-0 right-0 h-full w-1/2 lg:w-1/3 bg-gray-600 shadow-xl z-50 transform translate-x-full transition-transform duration-500 ease-in-out">
        <div class="flex justify-end p-4">
          <button id="menu-close" class="text-black text-2xl">&times;</button>
        </div>
        <ul class="flex flex-col p-6">
          {
            navItems.map((item) => (
              <li>
                <a
                  href={navLinks[navItems.indexOf(item)]}
                  class="text-white text-xl pt-4 hover:text-blue-500 text-standard font-blowbrush tracking-widest">
                  {item}
                </a>
              </li>
            ))
          }
        </ul>
        <hr class="my-4 border-gray-600" />
        <div class="flex flex-col items-start space-y-4 mt-4 px-6">
          <!-- Search -->
          <div class="relative w-full">
            <input
              type="text"
              placeholder="Buscar..."
              class="w-full pl-10 pr-4 py-2 rounded-full bg-white text-black"
            />
            <Search
              class="absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-600"
            />
          </div>

          <!-- Carrito -->
          <a
            href="#"
            class="flex justify-center items-center space-x-2 text-standard font-blowbrush tracking-widest text-white ">
            <ShoppingCart class="w-6 h-6" />
            <span class="pt-1 pl-0.75 hover:text-blue-600 transition-colors">CARRITO</span>
          </a>

          <!-- Login -->
          <AccountLinkWrapper client:only="react" />
        </div>
      </div>
    </nav>
  </div>

  <!-- Right section -->
  <div class="hidden xl:flex items-center space-x-6">
    <!-- Search -->
    <div class="relative hidden xl:block">
      <input
        type="text"
        placeholder="Buscar..."
        class="pl-10 pr-4 py-1 rounded-full bg-white text-black border border-gray-300 focus:outline-none"
      />
      <Search
        class="absolute left-3 top-1/2 -translate-y-1/2 h-4 w-3 text-gray-600"
      />
    </div>

    <!-- Iconos de cesta y cuenta -->
    <div class="flex items-center space-x-6">
      <!-- Cesta -->
      <a href="#" class="flex flex-col items-center text-black hover:text-blue-600 transition">
        <ShoppingCart class="w-6 h-6 mt-1 mb-1" />
        <span
          class="text-xs font-semibold font-blowbrush hover:text-blue-600 transition tracking-widest">
          CESTA
        </span>
      </a>

      <!-- Mi Cuenta -->
      <AccountLinkWrapper client:only="react" />
    </div>
  </div>

  <!-- Mobile Hamburger -->
  <button id="menu-toggle" class="xl:hidden z-50 cursor-pointer">
    <svg
      class="w-8 h-8 text-black"
      fill="none"
      stroke="currentColor"
      viewBox="0 0 24 24">
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M4 6h16M4 12h16M4 18h16"></path>
    </svg>
  </button>
</header>

<MenuClient client:load />
